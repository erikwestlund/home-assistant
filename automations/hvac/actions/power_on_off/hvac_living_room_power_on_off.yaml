- id: "turn_off_living_room_heat_pump"
  alias: "Turn Off Living Room Heat Pump"
  trigger:
    - platform: state
      entity_id: binary_sensor.living_room_heat_pump_power_on_status
      to: "off"
  condition:
    - condition: template
      value_template: >
        {{ not is_state('climate.living_room_heat_pump', 'off') }}
  action:
    - service: climate.turn_off
      target:
        entity_id: climate.living_room_heat_pump

- id: "turn_off_living_room_radiator"
  alias: "Turn Off Living Room Radiator"
  trigger:
    - platform: state
      entity_id: binary_sensor.living_room_radiator_power_on_status
      to: "off"
  condition:
    - condition: template
      value_template: >
        {{ not is_state('climate.living_room_main_heating', 'off') }}
  action:
    - service: climate.turn_off
      target:
        entity_id: climate.living_room_main_heating

- id: "turn_on_living_room_radiator"
  alias: "Turn On Living Room Radiator"
  trigger:
    - platform: state
      entity_id: binary_sensor.living_room_radiator_power_on_status
      to: "on"
  condition:
    - condition: state
      entity_id: input_select.hvac_mode
      state: "Heat"
    - condition: template
      value_template: >
        {{ is_state('climate.living_room_main_heating', 'off') }}
  action:
    - service: climate.set_hvac_mode
      data:
        entity_id: climate.living_room_main_heating
        hvac_mode: heat