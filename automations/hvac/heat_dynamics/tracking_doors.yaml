- id: update_door_closed_prev_hour_states
  alias: "Update Door Closed Prev Hour States"
  trigger:
    - platform: time_pattern
      minutes: 0
  condition: []
  action:
    - service: input_boolean.turn_{{ 'on' if is_state('binary_sensor.side_door_contact', 'off') else 'off' }}
      data:
        entity_id: input_boolean.office_exterior_door_closed_prev_hour

    - service: input_boolean.turn_{{ 'on' if is_state('binary_sensor.family_room_interior_door_contact', 'off') else 'off' }}
      data:
        entity_id: input_boolean.family_room_interior_door_closed_prev_hour

    - service: input_boolean.turn_{{ 'on' if is_state('binary_sensor.tilly_bedroom_door_contact', 'off') else 'off' }}
      data:
        entity_id: input_boolean.tilly_door_closed_prev_hour

    - service: input_boolean.turn_{{ 'on' if is_state('binary_sensor.hank_bedroom_main_door_contact', 'off') else 'off' }}
      data:
        entity_id: input_boolean.hank_main_door_closed_prev_hour

    - service: input_boolean.turn_{{ 'on' if is_state('binary_sensor.hank_bedroom_side_door_contact', 'off') else 'off' }}
      data:
        entity_id: input_boolean.hank_side_door_closed_prev_hour

    - service: input_boolean.turn_{{ 'on' if is_state('binary_sensor.master_bedroom_door_contact', 'off') else 'off' }}
      data:
        entity_id: input_boolean.master_bedroom_door_closed_prev_hour