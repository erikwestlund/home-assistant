# Update Tina Office Temperature 60m Ago (Every Hour)
- id: update_tina_office_temperature_60m_ago
  alias: "Update Tina Office Temperature 60m Ago"
  trigger:
    - platform: template
      value_template: >
        {{ now().minute == states('input_number.store_minute_office') | int }}
  action:
    - service: input_number.set_value
      target:
        entity_id: input_number.hvac_office_average_temperature_60m_ago
      data:
        value: "{{ states('sensor.tina_office_average_temperature') }}"


# Update Family Room Temperature 60m Ago (Every Hour)
- id: update_family_room_temperature_60m_ago
  alias: "Update Family Room Temperature 60m Ago"
  trigger:
    - platform: template
      value_template: >
        {{ now().minute == states('input_number.store_minute_family_room') | int }}
  action:
    - service: input_number.set_value
      target:
        entity_id: input_number.hvac_family_room_average_temperature_60m_ago
      data:
        value: "{{ states('sensor.family_room_average_temperature') }}"

# Update Living Room Temperature 60m Ago (Every Hour)
- id: update_living_room_temperature_60m_ago
  alias: "Update Living Room Temperature 60m Ago"
  trigger:
    - platform: template
      value_template: >
        {{ now().minute == states('input_number.store_minute_living_room') | int }}
  action:
    - service: input_number.set_value
      target:
        entity_id: input_number.hvac_living_room_average_temperature_60m_ago
      data:
        value: "{{ states('sensor.living_room_average_temperature') }}"

# Update Dining Room Temperature 60m Ago (Every Hour)
- id: update_dining_room_temperature_60m_ago
  alias: "Update Dining Room Temperature 60m Ago"
  trigger:
    - platform: template
      value_template: >
        {{ now().minute == states('input_number.store_minute_dining_room') | int }}
  action:
    - service: input_number.set_value
      target:
        entity_id: input_number.hvac_dining_room_temperature_60m_ago
      data:
        value: "{{ states('sensor.dining_room_average_temperature') }}"

# Update Erik Office Temperature 60m Ago (Every Hour)
- id: update_erik_office_temperature_60m_ago
  alias: "Update Erik Office Temperature 60m Ago"
  trigger:
    - platform: template
      value_template: >
        {{ now().minute == states('input_number.store_minute_erik_office') | int }}
  action:
    - service: input_number.set_value
      target:
        entity_id: input_number.hvac_erik_office_temperature_60m_ago
      data:
        value: "{{ states('sensor.erik_office_average_temperature') }}"

# Update Master Bedroom Temperature 60m Ago (Every Hour)
- id: update_master_bedroom_temperature_60m_ago
  alias: "Update Master Bedroom Temperature 60m Ago"
  trigger:
    - platform: template
      value_template: >
        {{ now().minute == states('input_number.store_minute_master_bedroom') | int }}
  action:
    - service: input_number.set_value
      target:
        entity_id: input_number.hvac_master_bedroom_average_temperature_60m_ago
      data:
        value: "{{ states('sensor.master_bedroom_average_temperature') }}"

# Update Master Bedroom Preheating Average Temperature 60m Ago (Every Hour)
- id: update_master_bedroom_preheating_average_temperature_60m_ago
  alias: "Update Master Bedroom Preheating Average Temperature 60m Ago"
  trigger:
    - platform: template
      value_template: >
        {{ now().minute == states('input_number.store_minute_master_bedroom') | int }}
  action:
    - service: input_number.set_value
      target:
        entity_id: input_number.hvac_master_bedroom_preheating_average_temperature_60m_ago
      data:
        value: "{{ states('sensor.hvac_current_preheating_temperature_master_bedroom') }}"

# Update Kids Rooms Temperature 60m Ago (Every Hour)
- id: update_kids_rooms_temperature_60m_ago
  alias: "Update Kids Rooms Temperature 60m Ago"
  trigger:
    - platform: template
      value_template: >
        {{ now().minute == states('input_number.store_minute_ducted') | int }}
  action:
    - service: input_number.set_value
      target:
        entity_id: input_number.hvac_kids_rooms_average_temperature_60m_ago
      data:
        value: "{{ states('sensor.kids_rooms_average_temperature') }}"

# Update Hank's Room Temperature 60m Ago (Every Hour)
- id: update_hank_room_temperature_60m_ago
  alias: "Update Hank's Room Temperature 60m Ago"
  trigger:
    - platform: template
      value_template: >
        {{ now().minute == states('input_number.store_minute_ducted') | int }}
  action:
    - service: input_number.set_value
      target:
        entity_id: input_number.hvac_hank_room_temperature_60m_ago
      data:
        value: "{{ states('sensor.hank_s_room_average_temperature') }}"

# Update Tilly's Room Temperature 60m Ago (Every Hour)
- id: update_tilly_room_temperature_60m_ago
  alias: "Update Tilly's Room Temperature 60m Ago"
  trigger:
    - platform: template
      value_template: >
        {{ now().minute == states('input_number.store_minute_ducted') | int }}
  action:
    - service: input_number.set_value
      target:
        entity_id: input_number.hvac_tilly_room_temperature_60m_ago
      data:
        value: "{{ states('sensor.tilly_s_room_average_temperature') }}"

# Update Kitchen Temperature 60m Ago (Every Hour)
- id: update_kitchen_temperature_60m_ago
  alias: "Update Kitchen Temperature 60m Ago"
  trigger:
    - platform: template
      value_template: >
        {{ now().minute == states('input_number.store_minute_dining_room') | int }}
  action:
    - service: input_number.set_value
      target:
        entity_id: input_number.hvac_kitchen_temperature_60m_ago
      data:
        value: "{{ states('sensor.kitchen_average_temperature') }}"


# Update Basement Playroom Temperature 60m Ago (Every Hour)
- id: update_basement_playroom_temperature_60m_ago
  alias: "Update Basement Playroom Temperature 60m Ago"
  trigger:
    platform: time_pattern
    minutes: '3'  # Coincide with family room
  action:
    - service: input_number.set_value
      target:
        entity_id: input_number.hvac_basement_playroom_temperature_60m_ago
      data:
        value: "{{ states('sensor.basement_playroom_temperature') }}"

