# ðŸ”„ Start Boiler Zone Timer
- id: start_hvac_boiler_zone_timer
  alias: "Start HVAC Boiler Zone Timer"
  trigger:
    - platform: state
      entity_id: input_select.hvac_active_boiler_zone
      from: "Idle"
  condition:
    - condition: state
      entity_id: timer.hvac_active_boiler_zone_timer
      state: "idle"
  action:
    - service: timer.start
      target:
        entity_id: timer.hvac_active_boiler_zone_timer
    - service: notify.file
      data:
        message: >
          {{ now().timestamp() | timestamp_local }}:
          Boiler zone {{ trigger.to_state.state }} started.
          
# ðŸ”„ Stop Boiler Zone Timer
- id: stop_hvac_boiler_zone_timer
  alias: "Stop HVAC Boiler Zone Timer"
  trigger:
    - platform: state
      entity_id: input_select.hvac_active_boiler_zone
      to: "Idle"
  action:
    - service: timer.finish
      target:
        entity_id: timer.hvac_active_boiler_zone_timer
    - service: notify.file
      data:
        message: >
          {{ now().timestamp() | timestamp_local }}:
          Boiler zone ran for {{ state_attr('timer.hvac_active_boiler_zone_timer', 'duration') }}.

# ðŸ”„ Set Boiler Start Time
- id: set_hvac_boiler_start_time
  alias: "Set HVAC Boiler Start Time"
  mode: single
  trigger:
    - platform: state
      entity_id: input_select.hvac_active_boiler_zone
      from: "Idle"
  action:
    - service: input_datetime.set_datetime
      target:
        entity_id: input_datetime.hvac_boiler_start_time
      data:
        timestamp: "{{ as_timestamp(now()) }}"

# ðŸ”„ Set Boiler End Time
- id: set_hvac_boiler_end_time
  alias: "Set HVAC Boiler End Time"
  mode: single
  trigger:
    - platform: state
      entity_id: input_select.hvac_active_boiler_zone
      to: "Idle"
  action:
    - service: input_datetime.set_datetime
      target:
        entity_id: input_datetime.hvac_boiler_end_time
      data:
        timestamp: "{{ as_timestamp(now()) }}"