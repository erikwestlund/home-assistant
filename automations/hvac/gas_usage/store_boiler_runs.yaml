- id: store_boiler_runs
  alias: "Store Boiler Runs"
  trigger:
    - platform: template
      value_template: >
        {{ now().strftime('%H:%M:%S') == states('input_datetime.hvac_store_gas_usage_time') }}
  action:
    service: google_sheets.append_sheet
    data:
      config_entry: !secret google_sheets_sheet_id
      worksheet: "Boiler Runs"
      data:
        timestamp: "{{ now().strftime('%Y-%m-%d %H:%M:%S') }}"
        hvac_last_active_boiler_zone: "{{ states('input_select.hvac_last_active_boiler_zone') }}"
        meter_start_reading: "{{ states('input_number.gas_start_meter_reading_ft3') }}"
        meter_end_reading: "{{ states('input_number.gas_end_meter_reading_ft3') }}"
        outdoor_temp: "{{ states('sensor.current_temperature') }}"
