- name: "Erik Office Mini Split Setpoint Synced"
  unique_id: erik_office_minisplit_setpoint_synced
  state: >
    {% set target_temp = states('sensor.erik_office_mini_split_setpoint_target_temperature') | float(0) %}
    {% set current_temp = state_attr('climate.eriks_office_room', 'temperature') | float(0) %}
    {% set power_on = is_state('binary_sensor.erik_office_heat_pump_power_on_status', 'on') %}
    {% set is_off = is_state('climate.eriks_office_room', 'off') %}

    {% if not power_on and is_off %}
      true
    {% elif not power_on and not is_off %}
      false
    {% elif power_on and target_temp == current_temp %}
      true
    {% else %}
      false
    {% endif %}
  icon: >-
    {% if is_state('binary_sensor.erik_office_minisplit_setpoint_synced', 'on') %}
      mdi:check-circle
    {% else %}
      mdi:alert-circle
    {% endif %}

- name: "Erik Office Mini Split Setpoint Not Synced"
  unique_id: erik_office_minisplit_setpoint_not_synced
  state: >
    {% set synced = is_state('binary_sensor.erik_office_minisplit_setpoint_synced', 'on') %}
    {{ not synced }}
  icon: >-
    {% if is_state('binary_sensor.erik_office_minisplit_setpoint_not_synced', 'on') %}
      mdi:alert
    {% else %}
      mdi:check
    {% endif %}