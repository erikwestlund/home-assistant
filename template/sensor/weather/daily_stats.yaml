- name: "Current Temperature"
  unique_id: current_temperature
  unit_of_measurement: "°F"
  state: >
    {% set pirate_temp = state_attr('sensor.pirate_weather', 'currently') %}
    {% if pirate_temp and pirate_temp['temperature'] is not none %}
      {{ pirate_temp['temperature'] | round(1) }}
    {% else %}
      {{ states('weather.kowd') | float | round(1) if states('weather.kowd') not in ['unknown', 'unavailable'] else 'unavailable' }}
    {% endif %}
  icon: mdi:thermometer

- name: "Daily Low Temperature"
  unique_id: daily_low_temperature
  unit_of_measurement: "°F"
  state: >
    {% set daily = state_attr('sensor.pirate_weather', 'daily') %}
    {% if daily and daily['data'] | length > 0 and daily['data'][0]['temperatureLow'] is not none %}
      {{ daily['data'][0]['temperatureLow'] | round(1) }}
    {% else %}
      {{ state_attr('weather.kowd', 'forecast')[0]['templow'] | float | round(1) if state_attr('weather.kowd', 'forecast') else 'unavailable' }}
    {% endif %}
  icon: mdi:thermometer-chevron-down

- name: "Daily High Temperature"
  unique_id: daily_high_temperature
  unit_of_measurement: "°F"
  state: >
    {% set daily = state_attr('sensor.pirate_weather', 'daily') %}
    {% if daily and daily['data'] | length > 0 and daily['data'][0]['temperatureHigh'] is not none %}
      {{ daily['data'][0]['temperatureHigh'] | round(1) }}
    {% else %}
      {{ state_attr('weather.kowd', 'forecast')[0]['temphigh'] | float | round(1) if state_attr('weather.kowd', 'forecast') else 'unavailable' }}
    {% endif %}
  icon: mdi:thermometer-chevron-up