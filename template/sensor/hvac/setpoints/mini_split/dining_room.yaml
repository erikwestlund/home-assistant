- name: "HVAC Mini Split Setpoint Dining Room"
  unique_id: hvac_mini_split_setpoint_dining_room
  state: >
    {% set is_power_off = is_state('binary_sensor.hvac_mini_split_power_status_dining_room', 'off') %}
    {% set is_override = is_state('input_boolean.hvac_override_status_dining_room', 'on') %}
    {% set is_away_mode = is_state('input_boolean.hvac_away_mode', 'on') %}
    {% set comfort_mode = states('sensor.hvac_mini_split_comfort_setting_mode_dining_room') %}
    
    {# If Power is Off, return Off #}
    {% if is_power_off %}
      Off
    {# If Override is Active, use Override Setpoint #}
    {% elif is_override %}
      {{ states('input_number.hvac_mini_split_override_setpoint_dining_room') }}
    {# If Away Mode is Active, use Away Setpoint #}
    {% elif is_away_mode %}
      {{ states('input_number.hvac_mini_split_away_setpoint_dining_room') }}
    {# Comfort Mode Based Logic #}
    {% elif comfort_mode == "Freezing" %}
      {% if is_state('sensor.hvac_comfort_setting_dining_room', 'Day') %}
        {{ states('input_number.hvac_mini_split_day_freezing_setpoint_dining_room') }}
      {% elif is_state('sensor.hvac_comfort_setting_dining_room', 'Night') %}
        {{ states('input_number.hvac_mini_split_night_freezing_setpoint_dining_room') }}
      {% else %}
        Off
      {% endif %}
    {% elif comfort_mode == "Cold" %}
      {% if is_state('sensor.hvac_comfort_setting_dining_room', 'Day') %}
        {{ states('input_number.hvac_mini_split_day_cold_setpoint_dining_room') }}
      {% elif is_state('sensor.hvac_comfort_setting_dining_room', 'Night') %}
        {{ states('input_number.hvac_mini_split_night_cold_setpoint_dining_room') }}
      {% else %}
        Off
      {% endif %}
    {% elif comfort_mode == "Hot" %}
      {% if is_state('sensor.hvac_comfort_setting_dining_room', 'Day') %}
        {{ states('input_number.hvac_mini_split_day_hot_setpoint_dining_room') }}
      {% elif is_state('sensor.hvac_comfort_setting_dining_room', 'Night') %}
        {{ states('input_number.hvac_mini_split_night_hot_setpoint_dining_room') }}
      {% else %}
        Off
      {% endif %}
    {% else %}
      Off
    {% endif %}
  unit_of_measurement: "Â°F"
  icon: mdi:thermometer