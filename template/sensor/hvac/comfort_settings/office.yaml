- name: "HVAC Comfort Setting Office"
  unique_id: hvac_comfort_setting_office
  state: >
    {% set is_override = is_state('input_boolean.hvac_override_status_office', 'on') %}
    {% set is_away_mode = is_state('input_boolean.hvac_away_mode', 'on') %}
    {% set is_weekday = is_state('binary_sensor.is_weekday', 'on') %}
    {% set is_occupied = is_state('binary_sensor.hvac_apply_occupied_setpoints_office', 'on') %}
    {% set is_night = is_state('binary_sensor.hvac_nighttime_active_office', 'on') %}

    {# 1. Override Check #}
    {% if is_override %}
      Override
    {# 2. Away Mode Check #}
    {% elif is_away_mode %}
      Away
    {# 3. Occupied Status Takes Precedence #}
    {% elif is_occupied %}
      {% if is_weekday %}
        Weekday Occupied
      {% else %}
        Weekend
      {% endif %}
    {# 4. Weekday Unoccupied Check #}
    {% elif is_weekday %}
      {% if is_night %}
        Night
      {% else %}
        Weekday Unoccupied
      {% endif %}
    {# 5. Weekend Default #}
    {% else %}
      Weekend
    {% endif %}
  icon: >-
    {% set state = states('sensor.hvac_comfort_setting_office') %}
    {% if state == "Override" %}
      mdi:alert
    {% elif state == "Away" %}
      mdi:airplane
    {% elif "Night" in state %}
      mdi:weather-night
    {% elif "Occupied" in state %}
      mdi:chair-rolling
    {% else %}
      mdi:sofa
    {% endif %}